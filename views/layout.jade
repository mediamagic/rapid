doctype 5
html(ng-app="rapid", ng-controller="GlobalCtrl", class="{{glob.mode}}")
	head
		title(ng-bind="settings.title")
		link(rel='stylesheet', href='/stylesheets/style.css')
		script(src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js")
		script(src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.3/angular.min.js")
		script(src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.3/angular-resource.min.js")
		script(src="//code.angularjs.org/1.0.3/angular-cookies.min.js")
		script(src="/javascripts/vendor/angular-ui.min.js")
		script(src="/javascripts/vendor/jquery.isotope.min.js")
		script(src="/javascripts/app.js")
		script(src="/javascripts/controllers.js")
		script
			$.Isotope.prototype._getMasonryGutterColumns = function() {
				var gutter = this.options.masonry && this.options.masonry.gutterWidth || 0;
				containerWidth = this.element.width();
				this.masonry.columnWidth = this.options.masonry && this.options.masonry.columnWidth ||
				this.$filteredAtoms.outerWidth(true) ||
				containerWidth;
				this.masonry.columnWidth += gutter;
				this.masonry.cols = Math.floor( ( containerWidth + gutter ) / this.masonry.columnWidth );
				this.masonry.cols = Math.max( this.masonry.cols, 1 );
			};
			$.Isotope.prototype._masonryReset = function() {
				this.masonry = {};
				this._getMasonryGutterColumns();
				var i = this.masonry.cols;
				this.masonry.colYs = [];
				while (i--) {
					this.masonry.colYs.push( 0 );
				}
			};
			$.Isotope.prototype._masonryResizeChanged = function() {
				var prevSegments = this.masonry.cols;
				this._getMasonryGutterColumns();
				return ( this.masonry.cols !== prevSegments );
			};
	body
		script
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', '']);
			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		#header(ui-scrollfix="+20")
			#nav
				span#title The New Å KODA Rapid
				ul
					li(ng-repeat="category in settings.categories")
						label(for="nav_{{$index}}") {{category}}
						input(type="radio", name="category", ng-model="filters.category", value="{{category}}", id="nav_{{$index}}")
					.clr
		#wrapper(ng-view)
		#footer